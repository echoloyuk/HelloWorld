<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<link rel="stylesheet" type="text/css" href="src/css/global.css" />
<link rel="stylesheet" type="text/css" href="src/css/editor.css" />
<link rel="stylesheet" type="text/css" href="src/css/content.css" />
<script type="text/javascript" src="src/js/sea.js"></script>
<script type="text/javascript" src="src/js/sea.config.js"></script>
<script type="text/javascript">
seajs.use(['TextArea'], function (TextArea){
	$(function (){
		var t = new TextArea($('#hContent'));
		t.extendKeyEvent = [
			{
				type: 'keyup',
				reg: /!\[$/,
				handler: function (key, curContent, content){
					console.log(22);
				}
			}
		]
		t.init();
		console.log(t);
		
		$('#test1').on('click', function (){
			console.log(t.getSelectionPosition());
		})
	});
})
</script>
<style>
.temp-panel{ position:absolute; z-index:1000; left:0; top:0;}
</style>
</head>

<body>
	<div class="temp-panel">
    	<button id="test1">getContent</button>
    </div>
	<div class="example">
        <div class="h-outer" id="helloWorld">
            <div class="h-textarea">
                <div class="h-title-panel">
                    <input type="text" id="hTitle" class="h-title" placeholder="在这里输入标题">
                </div>
                <div class="h-tool-panel">
                    <div class="h-tool-item h-tool-pic" title="图片">图片</div>
                    <div class="h-tool-item h-tool-pic" title="链接">链接</div>
                </div>
                <div class="h-content-panel">
                    <textarea class="h-content" id="hContent" placeholder="在这里输入正文"></textarea>
                </div>
            </div>
            <div class="h-preview" id="hPreview">
                <div class="h-text-content-title">无标题</div>
                <div class="h-text-content">
                </div>
            </div>
        </div>
        <div class="h-img-upload-dialog" id="upLoadDialog">
            <div class="h-file-header">
                <span>上传图片</span>
                <div class="h-file-header-close" id="closeImgDialog">×</div>
            </div>
            <div class="h-file-panel">
                <form id="imgUploadForm" enctype="multipart/form-data" method="post">
                    <input type="file" name="imgUpload" class="h-file-upload" multiple>
                </form>
            </div>
            <div class="h-file-info" id="upLoadImgInfo">
                <span>上传限制：10M，类型：png, jpg, gif</span>
            </div>
            <div class="h-file-percent h-file-percent-outer">
                <div class="h-file-percent-inner"></div>
            </div>
            <div class="h-file-upload-btn">
                <div class="upload-btn" id="imgUploadBtn">上传</div>
            </div>
        </div>
        <div class="h-mask" id="mask"></div>
    </div>
</body>
</html>
